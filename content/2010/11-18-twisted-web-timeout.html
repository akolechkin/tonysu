{% meta %}
  title: twisted.web и таймаут
  tags: [python, twisted]
{% endmeta %}

{% mark body %}
{% filter markdown %}
Потрясающий баг. В первые столкнулся с ним еще несколько месяцев назад, при возрастании нагрузок на сервер. Стало достаточно быстро понятно что сервер twisted.web очень долго не отпускает клиентские соединения. После 5 минут в коде самого twisted'а наткнулся на такой [хардкод](http://twistedmatrix.com/trac/browser/trunk/twisted/web/server.py#L444). Кстати говоря когда нашел баг использовал 8.2.0 так что косяк похоже древний. Есть даже [тикет](http://twistedmatrix.com/trac/ticket/3746) с патчами, но пока не в транке, абсолютно не понятно почему. Будте осторожны. 


{% endfilter %}{% endmark %}
