<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ru">
<head>
<title>TONY.SU: Vkontakte IFrame-приложение на локальной машине</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="/static/css/style.css" type="text/css" media="screen">
<link rel="stylesheet" href="/static/css/pygments.css" type="text/css" />

<link href="http://feeds.feedburner.com/Tonysu" rel="alternate" title="TONY.SU" type="application/atom+xml" />
<meta name="author" content="Anton Kolechkin (Tony)" />
<meta name="distribution" content="global" />
<meta name="description" content="Blog about python high-tech and software development." />
<meta name="keywords" content="python twisted django highload software development blog" />
<meta name="generator" content="Cyrax 0.1.4" />

</head>

<body>
	<div id="container">
		<div id="logo"><a href="/">TONY.SU</a></div>
		<ul id="nav">
			<li class="page_item page-item-1"><a href="/">Home</a></li>
			<li class="page_item page-item-4"><a href="http://feeds.feedburner.com/Tonysu" title="RSS">RSS</a></li>
		</ul>
		<div class="clear"></div>
	</div>
	<div class="spacer"></div>
	<div class="content">
	
<h1>Vkontakte IFrame-приложение на локальной&nbsp;машине</h1>
<div class="meta">
Опубликовано: 2010-03-21<br />


Теги: <a href="/tag/vkontakte/">vkontakte</a>

</div>

<div class="postbody">
<p>Этот костыль пришлось применить т.к в iframe-приложении vkontakte невозможно поставить урл <a class="reference external" href="http://127.0.0.1">http://127.0.0.1</a>, урл без зоны, либо работающее на нестандартном порту. Ниже выход в случае если необходимо запустить iframe-приложение работающее на локальной машине, но запущеное через оболочку vkontakte.</p>
<p>Открываем /etc/hosts добавляем строчку:</p>
<div class="highlight"><pre>127.0.0.1 my-application-local.com
</pre></div>
<p>Если приложение запущено не на 80-м порту, выполняем:</p>
<div class="highlight"><pre>iptables -t nat -A OUTPUT -p tcp -d 127.0.0.1 --dport 80 -j REDIRECT --to-ports 8000
</pre></div>
<p>Где 8000 - локальный порт сервера.</p>
<p>Заходим в настройки приложения, в строке адреса приложения пишем:</p>
<blockquote>
<a class="reference external" href="http://my-application-local.com/">http://my-application-local.com/</a></blockquote>
<p>Рефрешим страницу, проверяем в firebug что приложение загрузилось с локальной машины.</p>

</div>

<div class="clear" style="margin-top:35px"></div>

<div id="disqus_thread"></div>
<script type="text/javascript">

  var disqus_developer = true;
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://tonysu.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=tonysu">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


	</div>
	<div class="spacer"></div>
		<div class="content">
			<h3>Блог</h3>

<p>
Работает на движке <a rel="nofollow" href="http://hg.piranha.org.ua/cyrax">cyrax</a>. В качестве шаблона модифицированная тема "Clean Minimal" от <a rel="nofollow" href="http://www.themelab.com">themelab.com</a>.
</p>
		</div>
	</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-15241592-1");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
</html>